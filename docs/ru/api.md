## API

### entities.new

Создаёт Entity, либо Collection, либо содержимое в директории из экстрактора. (Entity либо Collection) обозначим за X, содержимое директории из экстрактора за Y.

Параметры:

`extractor` — название экстрактора вида {Директория}.{Название класса}

`collection_id` — ID коллекции, в которую будет добавлена X.

`export_to_dir` — будет вызван act Export.CollectionToFS

`export_to_folder_type` — только при Y; тип сохранения в директорию. При "rename" — временная директория будет переименована в переданную. При "simple_grouping" (по умолчанию) все файлы будут перемещены в заданную директорию. Если файл в сущности всего один, будет создана подпапка, если нет, то нет. При "grouping" для каждой сущности будет создана подпапка.

`write_mode` — При значении 2 Entity будет сохранена в базу данных в процессе создания; при 1 всё будет сохранено после выполнения скрипта. Имеет смысл на медленном диске: при 2 будет задержка между выполнением действий, тогда как при 1 её не будет, но при этом будет долгое сохранение. Linked entities будут сохраняться сразу в любом случае.

Возвращает: массив из полученных Entity.
