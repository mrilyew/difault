### Декларируемые параметры

Функция, позволяющая описать вид передаваемых в executable или конфиг аргументов, валидировать и привести к нужному виду переданные параметры.

#### Способ описания

В Executable у каждого класса может быть метод declare(), возвращающий словарь с параметрами в формате приведённом ниже. При задании аргументов параметры рекурсивно складываются из этого метода вплоть до базового executable, образуя полный словарь со всеми параметрами.

#### Формат описания

##### `type`

Тип значения: _string_

Тип, в который будет приведён параметр, либо ограничитель параметра (в случае с `array`). Возможные значения:

|Название|Описание|
|--|--|
|`int`|Принимается целое число|
|`float`|Принимается число с запятой|
|`string`|Принимается строка|
|`bool`|Принимается число 0 или 1, преобразуется соответственно в False или True|
|`array`|Значение принимается только если есть в `values`|
|`csv`|Принимает строку на вход, разбивает её на массив через запятую|
|`object`|Словарь или массив, не может быть задан извне|

##### `values`

Тип значения: _list_
Только при: `type`=`array`

Список допустимых значений.

##### `default`

Тип значения: _зависит от `type`_

Значение, которое будет задано, если параметр не передан на вводе. Если не задан сам `default`, значение будет равно None либо произойдёт AssertionException.

##### `hidden`

Тип значения: _bool_

При `True` параметр всё ещё можно задать, но он не будет показан в интерфейсе.

##### `maxlength`

Тип значения: _int_
Только при: `type`=`string`

Длина до которой будет обрезаться переданная строка.

##### `sensitive`

Тип значения: _bool_

Заменять ли значение `default` при показе документации. Рекомендуется ставить на True, если в `default` подставляется чувствительная информация вроде токена.

##### `save_none_values`

Тип значения: _bool_ (по умолчанию False)

При False не будут сохраняться ключи на параметры равные None

##### `assertion`

Тип значения: _dict_

Словарь, отвечающий за дополнительные проверки на валидность. Каждый ключ отвечает за условие, если оно не выполнено то возвращается AssertionError.

Может содержать:

`not_null` _(bool)_: проверить, что значение не равно None

`assert_link` _(str)_: значение привязывается к указанному параметру, назовём X. Если текущий параметр равен None, будет проверятся параметр X, если он тоже равен None, будет возвращена AssertionError.

`only_when` _(list)_: массив проверки других параметров. Параметр активируется, если выполнено хоть одно условие из этого списка. Не влияет на выполнение скрипта, нужно лишь для интерфейса чтобы не показывать ненужные параметры. Каждый элемент задаётся в словаря с ключом с названием параметра и значением (тоже словарь):

`operator` — оператор сравнения

`value` — с каким значением сравнивать

Пример:

```
"path": {"operator": "!=", "value": None}
```

означает

значение аргумента `path` != None

##### `env_property`

Тип значения: _string_

Если `default` подставляется из `env`, то какой ключ за это отвечает.

##### `docs`

Документация к параметру. См. [documentation.md](documentation.md)

Ключ `values` _(dict)_: только при `type`="array": словарь, объясняющий, что означает тот или иной параметр из `values`. В ключе должно быть название параметра, в значении — _localization dict_.

#### Вызов в коде

За сведение переданных аргументов и задокументированных отвечает класс DeclarableArgs, за дополнительное сравнение — ArgsValidator с методом validate(). В ArgsValidator так же может быть задействовать конфиг для проверки параметров, см. [args_config.md](args_config.md)

#### Рекомендации

Лучше называть параметр кратко без дополнительных слов, например параметр с названием получаемого экстрактора лучше назвать просто `extractor` а не `extractor_name` или `name`. 

#### Зарезервированные имена

`i`, `name`
